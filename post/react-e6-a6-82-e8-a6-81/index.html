<!DOCTYPE html>
<html>
  <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta content="yes" name="apple-mobile-web-app-capable" />
  <meta content="black" name="apple-mobile-web-app-status-bar-style" />
  <meta name="referrer" content="never">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <meta name="author" content="kveln">
  <title>React 概要 | 三木的技术博客</title>
  <link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
  <!-- <link href="https://sanmuny.github.io/media/css/bootstrap.min.css" rel="stylesheet"> -->
  <!--  <link href="https://sanmuny.github.io/media/css/all.min.css" rel="stylesheet" type="text/css"> -->
  <link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
  <link rel="alternate" type="application/rss+xml" title="React 概要 | 三木的技术博客 » Feed" href="https://sanmuny.github.io/atom.xml">
  <link rel="stylesheet"href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/styles/androidstudio.min.css">
  <link href="https://sanmuny.github.io/styles/main.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/highlight.min.js"></script>
  <!-- <script src="https://sanmuny.github.io/media/scripts/jquery.min.js"></script> -->
  <script>hljs.initHighlightingOnLoad();</script>
  

    <meta property="og:description" content="React 概要"/>
    <meta property="og:url" content="https://sanmuny.github.io/post/react-e6-a6-82-e8-a6-81/"/>
    <meta property="og:locale" content="zh-CN"/>
    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="三木的技术博客"/>
  </head>
  <body>
  	<!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand" href="https://sanmuny.github.io">三木的技术博客</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          
          <li class="nav-item">
              
              <a class="nav-link" href="/">首页</a>
              
          </li>
          
          <li class="nav-item">
              
              <a class="nav-link" href="/archives">归档</a>
              
          </li>
          
          <li class="nav-item">
              
              <a class="nav-link" href="/tags">标签</a>
              
          </li>
          
          <li class="nav-item">
              
              <a class="nav-link" href="/post/about">关于</a>
              
          </li>
          
        </ul>
      </div>
    </div>
  </nav>
  <!-- Page Header -->
  <header class="masthead" style="background-image: url('https://sanmuny.github.io/media/images/home-bg.jpg')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
          	<span class="tags">
          	 
            <a href="https://sanmuny.github.io/tag/-kLx2poOUM/" class="tag">javascript</a>
            
            <a href="https://sanmuny.github.io/tag/ZbQia1PUrH/" class="tag">react</a>
            
        </span>
            <h1>React 概要</h1>
            <span class="meta">
            	Posted on
              2017-09-12，7 min read
            </span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Post Content -->
  <article>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <h1 id="react-简介">React 简介</h1>
<p>React 是一个开源的javascript库，用来构建用户接口(UI)。下图是React的一些基本信息：</p>
<h1 id="react-的特点">React 的特点</h1>
<ol>
<li>单向数据流
<ul>
<li>数据自上而下
<ul>
<li>Props 不可变</li>
<li>States可变</li>
<li>任何数据、函数都可以作为属性(props)传    递给子组件(Props,　States,　Handlers,　Styles)</li>
</ul>
</li>
<li>事件冒泡
<ul>
<li>子组件触发的事件会传递到父组件</li>
</ul>
</li>
</ul>
</li>
<li>虚拟DOM
<ul>
<li>Javascript内存中的DOM数据缓存</li>
<li>组件发生变化时渲染虚拟DOM</li>
<li>React将虚拟DOM与DOM的差异转化为一系列的DOM操作</li>
<li>将这些操作同步应用到真实的DOM中</li>
</ul>
</li>
<li>JSX
<ul>
<li>可以使用HTML语法创建Javascript 对象</li>
<li>代码更少</li>
<li>会被转化为Javascript执行
<ul>
<li>Offline - react-tools</li>
<li>In-Browser - JSXTransformer</li>
</ul>
</li>
<li>不改变Javascript语义</li>
</ul>
</li>
<li>其他特点
<ul>
<li>元素嵌套: 每个组件只允许有一个顶层元素(div, table ...)</li>
<li>自定义属性: 除了HTML标签自带属性之外，React也支持自定义属性，自定义属性需要加上data- 前缀</li>
<li>JavaScript表达式: 可以通过{}在JSX中使用Javascript表达式</li>
<li>三目运算符: JSX中不能使用if-else但可以使用三目运算</li>
</ul>
</li>
</ol>
<h1 id="react元素">React元素</h1>
<pre><code>const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;
</code></pre>
<ul>
<li>
<p>React 元素 != DOM 元素</p>
</li>
<li>
<p>将元素渲染到 DOM 中</p>
<p>ReactDOM.render(element, document.getElementById('root'));</p>
</li>
<li>
<p>更新元素 - 重新 Render</p>
</li>
<li>
<p>更新元素只会更新变化的部分</p>
</li>
</ul>
<pre><code>    function tick() {
        const element = (
            &lt;div&gt;
                &lt;h1&gt;Hello, world!&lt;/h1&gt;
                &lt;h2&gt;It is {new Date().toLocaleTimeString()}.&lt;/h2&gt;
            &lt;/div&gt;
        );
        ReactDOM.render(
        element,
        document.getElementById('root')
        );
    }
    setInterval(tick, 1000);
</code></pre>
<h1 id="react组件">React组件</h1>
<p>组件可以将UI切分成一些的独立的、可复用的部件，这样你就只需专注于构建每一个单独的部件。</p>
<ul>
<li>如何定义一个组件
<ul>
<li>函数</li>
</ul>
</li>
</ul>
<pre><code>function Welcome(props) {
    return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
}
</code></pre>
<pre><code>*   class
</code></pre>
<pre><code>   class Welcome extends React.Component {
       render() {
       return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
       }
   }
</code></pre>
<ul>
<li>渲染组件
<ul>
<li><code>const element = &lt;Welcome name=&quot;Sara&quot; /&gt;;</code></li>
</ul>
</li>
<li>组合组件</li>
</ul>
<pre><code>function App() {
    return (
    &lt;div&gt;
        &lt;Welcome name=&quot;Sara&quot; /&gt;
        &lt;Welcome name=&quot;Cahal&quot; /&gt;
        &lt;Welcome name=&quot;Edite&quot; /&gt;
    &lt;/div&gt;
    );
}
</code></pre>
<h1 id="状态与生命周期">状态与生命周期</h1>
<p>因为react中props为只读，如果需要更新数据，可以使用react中的状态。在使用状态之前，需要把组件函数转变为类。</p>
<ul>
<li>创建一个名称扩展为 React.Component 的ES6 类</li>
<li>创建一个叫做render()的空方法</li>
<li>将函数体移动到 render() 方法中</li>
<li>在 render() 方法中，使用 this.props 替换 props</li>
<li>删除剩余的空函数声明</li>
</ul>
<p>将组件函数转化为类之后就可以添加状态了：</p>
<ul>
<li>在 render() 方法中使用 this.state.date 替代 this.props.date</li>
<li>添加一个类构造函数来初始化状态 this.state</li>
<li>使用 this.setState() 来更新组件局部状</li>
</ul>
<pre><code>class Clock extends React.Component {
    constructor(props) {
    super(props);
    this.state = {date: new Date()};
    }
    componentDidMount() {
    this.timerID = setInterval(
        () =&gt; this.tick(),
        1000
    );
    }
    componentWillUnmount() {
    clearInterval(this.timerID);
    }
    tick() {
    this.setState({
        date: new Date()
    });
    }
    render() {
    return (
        &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.state.date.toLocaleTimeString()}.&lt;/h2&gt;
        &lt;/div&gt;
    );
    }
}
ReactDOM.render(
    &lt;Clock /&gt;,
    document.getElementById('root')
);
</code></pre>
<h1 id="事件处理">事件处理</h1>
<ul>
<li>React事件绑定属性的命名采用驼峰式写法，而不是小写。</li>
<li>如果采用 JSX 的语法你需要传入一个函数作为事件处理函数，而不是一个字符串(DOM元素的写法)</li>
<li>React不能使用返回 false 的方式阻止默认行为</li>
</ul>
<h1 id="条件渲染">条件渲染</h1>
<ul>
<li>使用 JavaScript 操作符 if 或条件运算符来创建表示当前状态的元素,然后让 React 根据它们来更新 UI</li>
<li>使用变量来储存元素</li>
</ul>
<pre><code>    function Greeting(props) {
        const isLoggedIn = props.isLoggedIn;
        if (isLoggedIn) {
        return &lt;UserGreeting /&gt;;
        }
        return &lt;GuestGreeting /&gt;;
    }
    ReactDOM.render(
        // Try changing to isLoggedIn={true}:
        &lt;Greeting isLoggedIn={false} /&gt;,
        document.getElementById('root')
    );
</code></pre>
<ul>
<li>&amp;&amp;运算符</li>
</ul>
<pre><code>   function Mailbox(props) {
       const unreadMessages = props.unreadMessages;
       return (
       &lt;div&gt;
           &lt;h1&gt;Hello!&lt;/h1&gt;
           {unreadMessages.length &gt; 0 &amp;&amp;
           &lt;h2&gt;
               You have {unreadMessages.length} unread messages.
           &lt;/h2&gt;
           }
       &lt;/div&gt;
       );
   }
</code></pre>
<ul>
<li>三目运算符</li>
</ul>
<pre><code>  render() {
      const isLoggedIn = this.state.isLoggedIn;
      return (
      &lt;div&gt;
          The user is &lt;b&gt;{isLoggedIn ? 'currently' : 'not'}&lt;/b&gt; logged in.
      &lt;/div&gt;
      );
  }
</code></pre>
<h1 id="列表渲染">列表渲染</h1>
<ul>
<li>React 可以直接渲染列表</li>
<li>Keys可以在DOM中的某些元素被增加或删除的时候帮助React识别哪些元素发生了变化。因此应当给数组中的每一个元素赋予一个确定的标识。</li>
<li>元素的key只有在它和它的兄弟节点对比时才有意义</li>
<li>jsx中可以使用map</li>
</ul>
<pre><code>    function ListItem(props) {
      return &lt;li&gt;{props.value}&lt;/li&gt;;
    }
    function NumberList(props) {
      const numbers = props.numbers;
      const listItems = numbers.map((number) =&gt;
        &lt;ListItem key={number.toString()}
                  value={number} /&gt;
      );
      return (
        &lt;ul&gt;
          {listItems}
        &lt;/ul&gt;
      );
    }
</code></pre>
<h1 id="表单">表单</h1>
<ul>
<li>HTML表单元素与React中的其他DOM元素有所不同,因为表单元素生来就保留一些内部状态</li>
<li>在HTML当中，像<code>&lt;input&gt;</code>,<code>&lt;textarea&gt;</code>, 和 <code>&lt;select&gt;</code>这类表单元素会维持自身状态，并根据用户输入进行更新</li>
<li>在React中，可变的状态通常保存在组件的状态属性中，并且只能用 setState(). 方法进行更新</li>
</ul>
<pre><code>    class Reservation extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          isGoing: true,
          numberOfGuests: 2
        };
        this.handleInputChange = this.handleInputChange.bind(this);
      }
      handleInputChange(event) {
        const target = event.target;
        const value = target.type === 'checkbox' ? target.checked : target.value;
        const name = target.name;
        this.setState({
          [name]: value
        });
      }
      render() {
        return (
          &lt;form&gt;
            &lt;label&gt;
              Is going:
              &lt;input
                name=&quot;isGoing&quot;
                type=&quot;checkbox&quot;
                checked={this.state.isGoing}
                onChange={this.handleInputChange} /&gt;
            &lt;/label&gt;
            &lt;br /&gt;
            &lt;label&gt;
              Number of guests:
              &lt;input
                name=&quot;numberOfGuests&quot;
                type=&quot;number&quot;
                value={this.state.numberOfGuests}
                onChange={this.handleInputChange} /&gt;
            &lt;/label&gt;
          &lt;/form&gt;
        );
      }
    }
</code></pre>

          
          <p class="next-post">下一篇：
            <a href="https://sanmuny.github.io/post/5b-e8-bd-ac-5dlinuxmint-e5-90-af-e7-94-a8vnc/">
              <span class="post-title">
                [转]Linux Mint启用VNC&rarr;
              </span>
            </a>
          </p>
        
        <div class="comment">
          
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script>
  var gitalk = new Gitalk({
    clientID: '2876d946eb87c573ec4e',
    clientSecret: '909799984d0e9eb3525ac5c3604e6b5fee270ccd',
    repo: 'sanmuny.github.io',
    owner: 'sanmuny',
    admin: ['sanmuny'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })
  gitalk.render('gitalk-container')
</script>

          
          
        
        </div>
      </div>
    </div>
  </article>
 <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            
            
            <li class="list-inline-item">
              <a href="https://github.com/sanmuny" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            
              
            
              
            
            <li class="list-inline-item">
              <a href="https://weibo.com/kelvinxupt" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-weibo fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            
              
            
              
            
              
            
              
            
              
              <li class="list-inline-item">
              <a href="https://sanmuny.github.io/atom.xml" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              </li>
          </ul>
          <p class="copyright text-muted">Copyright &copy;<span>三木的技术博客</span><br><a href="https://github.com/getgridea/gridea" class="Themeinfo">Powered by Gridea</a></p>
        </div>
      </div>
    </div>
   </footer>
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
  <!-- <script src="https://sanmuny.github.io/media/scripts/bootstrap.bundle.min.js"></script> -->
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.jsdelivr.net/gh/Alanrk/clean-cdn@1.0/scripts/clean-blog.min.js"></script>
  <!-- <script src="https://sanmuny.github.io/media/scripts/clean-blog.min.js"></script> -->
  <script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
  <style type="text/css">a.back_to_top{text-decoration:none;position:fixed;bottom:40px;right:30px;background:#f0f0f0;height:40px;width:40px;border-radius:50%;line-height:36px;font-size:18px;text-align:center;transition-duration:.5s;transition-propety:background-color;display:none}a.back_to_top span{color:#888}a.back_to_top:hover{cursor:pointer;background:#dfdfdf}a.back_to_top:hover span{color:#555}@media print,screen and(max-width:580px){.back_to_top{display:none!important}}</style>
<a id="back_to_top" href="#" class="back_to_top">
  <span>▲</span></a>
<script>$(document).ready((function(_this) {
    return function() {
      var bt;
      bt = $('#back_to_top');
      if ($(document).width() > 480) {
        $(window).scroll(function() {
          var st;
          st = $(window).scrollTop();
          if (st > 30) {
            return bt.css('display', 'block')
          } else {
            return bt.css('display', 'none')
          }
        });
        return bt.click(function() {
          $('body,html').animate({
            scrollTop: 0
          },
          800);
          return false
        })
      }
    }
  })(this));</script>
  </body>
</html>

